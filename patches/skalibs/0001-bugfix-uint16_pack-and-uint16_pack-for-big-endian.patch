From f3ea9c65b9414f85427a4505932acd7dae409ea6 Mon Sep 17 00:00:00 2001
From: Laurent Bercot <ska-skaware@skarnet.org>
Date: Mon, 5 Dec 2022 00:02:44 +0000
Subject: [PATCH]  bugfix: uint16_pack and uint16_pack for big-endian

Signed-off-by: Laurent Bercot <ska@appnovation.com>
---
 src/libstddjb/uint16_pack.c | 2 +-
 src/libstddjb/uint32_pack.c | 2 +-
 2 files changed, 2 insertions(+), 2 deletions(-)

diff --git a/src/libstddjb/uint16_pack.c b/src/libstddjb/uint16_pack.c
index 353c421..0b2f8df 100644
--- a/src/libstddjb/uint16_pack.c
+++ b/src/libstddjb/uint16_pack.c
@@ -7,6 +7,6 @@

 void uint16_pack (char *s, uint16_t u)
 {
-  uint16_littlep(u) ;
+  uint16_littlep(&u) ;
   memcpy(s, &u, sizeof(uint16_t)) ;
 }
diff --git a/src/libstddjb/uint32_pack.c b/src/libstddjb/uint32_pack.c
index b38bfeb..9cc7e2a 100644
--- a/src/libstddjb/uint32_pack.c
+++ b/src/libstddjb/uint32_pack.c
@@ -7,6 +7,6 @@

 void uint32_pack (char *s, uint32_t u)
 {
-  uint32_littlep(u) ;
+  uint32_littlep(&u) ;
   memcpy(s, &u, sizeof(uint32_t)) ;
 }
--
2.34.0

